<%- include("./partials/header") %>
<link rel="stylesheet" href="/stylesheets/explore.css">
</head>
<body>
    <div class="jumbotron">
        <div class="h1 text-lg text-center text-info m-0 p-0">
            Explore... &nbsp;<i class="fas fa-venus-mars"></i>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-12 col-lg-3">
                <p>
                    <button class="btn btn-light" type="button" data-toggle="collapse" data-target="#collapseExample"
                        aria-expanded="false" aria-controls="collapseExample" style="width: 100%; font-size: 20px;">
                        Filters <i class="fas fa-filter"></i>
                    </button>
                </p>
                <div class="collapse" id="collapseExample">
                    <div class="card card-body col-md-10 col-lg-12 mx-auto">
                        <div class="accordion" id="accordionExample">
                            <form action="/explore/<%= currentUser._id %>" method="GET" >
                                <div class="card">
                                    <div class="card-header" id="headingOne">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link btn-outline-light btn-block text-center" type="button" data-toggle="collapse"
                                                data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                Filter by Username
                                            </button>
                                        </h2>
                                    </div>
                                
                                    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                                        <div class="row">
                                            <div class="card-body col-md-10 mx-auto">
                                                <!-- <form action="/explore/<%= currentUser._id %>" method="GET" > -->
                                                    <div class="form-group ">
                                                        <input id="text" type="text" name="username" placeholder="Filter by username" class="form-control">
                                                        <!-- <input id="searchButton" type="submit" value="Search" class="btn my-3 btn-info btn-sm"> -->
                                                    </div>
                                                <!-- </form> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header" id="headingTwo">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link btn-outline-light btn-block text-center collapsed" type="button" data-toggle="collapse"
                                                data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                Filter by City
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                                        <div class="row">
                                          <div class="card-body col-md-10 mx-auto">
                                            <!-- <form action="/explore/<%= currentUser._id %>" method="GET" class="form-inline"> -->
                                                <div class="form-group">
                                                    <select name="city" id="text" class="form-control">
                                                        <option selected value="" >Select City</option>
                                                        <% for(var i =0; i<cities.length; i++) { %>
                                                            <option><%=cities[i]%></option>
                                                        <% } %>
                                                    </select>
                                                    <!-- <input id="text" type="text" name="city" placeholder="Filter by city" class="form-control"> -->
                                                    <!-- <input id="searchButton" type="submit" value="Search" class="btn btn-warning"> -->
                                                </div>
                                            <!-- </form> -->
                                            </div>  
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header" id="headingThree">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link btn-outline-light btn-block text-center collapsed" type="button" data-toggle="collapse"
                                                data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                Filter by Gender
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                                        <div class="row">
                                            <div class="card-body col-md-10 mx-auto">
                                            <!-- <form action="/explore/<%= currentUser._id %>" method="GET" class="form-inline"> -->
                                                <div class="form-group">
                                                    <select name="gender" id="text" class="form-control">
                                                        <option selected value="">Select Gender</option>
                                                        <option value="Male">Male</option>
                                                        <option value="Female">Female</option>
                                                        <option value="Others">Others</option>
                                                    </select>
                                                    <!-- <input id="text" type="text" name="gender" placeholder="Filter by gender" class="form-control"> -->
                                                    <!-- <input id="searchButton" type="submit" value="Search" class="btn btn-warning"> -->
                                                </div>
                                            <!-- </form> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header" id="headingThree">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link btn-outline-light btn-block text-center collapsed" type="button" data-toggle="collapse"
                                                data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                                Filter by Name
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
                                        <div class="row">
                                         <div class="card-body col-md-10 mx-auto">
                                            <!-- <form action="/explore/<%= currentUser._id %>" method="GET" class="form-inline"> -->
                                                <div class="form-group">
                                                    <input id="text" type="text" name="name" placeholder="Filter by name" class="form-control">
                                                    <!-- <input id="searchButton" type="submit" value="Search" class="btn btn-warning"> -->
                                                </div>
                                            <!-- </form> -->
                                        </div>   
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header" id="headingFive">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link btn-outline-light btn-block text-center collapsed" type="button" data-toggle="collapse"
                                                data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                                Filter by Age
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordionExample">
                                        <div class="row">
                                           <div class="card-body col-md-10 mx-auto">
                                            <!-- <form action="/explore/<%= currentUser._id %>" method="GET" class="form-inline"> -->
                                                <div class="form-group">
                                                    <select name="age" id="text" class="form-control">
                                                        <option selected disabled value="">Select Age Group</option>
                                                        <option value="15">Below 15</option>
                                                        <option value="18">15-18</option>
                                                        <option value="21">19-21</option>
                                                        <option value="26">22-26</option>
                                                        <option value="30">27-30</option>
                                                        <option value="50">30-50</option>
                                                        <option value="51">Above 50</option>
                                                    </select>
                                                    <!-- <input id="text" type="text" name="age" placeholder="Filter by age" class="form-control"> -->
                                                    <!-- <input id="searchButton" type="submit" value="Search" class="btn btn-warning"> -->
                                                </div>
                                            <!-- </form> -->
                                        </div> 
                                        </div>
                                    </div>    
                                </div>
                                <div class="d-flex justify-content-center">
                                    <button class="btn btn-info my-4 btn-lg mx-auto">Search... &nbsp;<i class="fa fa-search" aria-hidden="true"></i></button>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <form action = "/explore/<%= currentUser._id %>" method = "POST">
                                        <button class="btn btn-danger btn-sm my-2 mx-auto">Clear Filters &nbsp; <i class="fa fa-trash" aria-hidden="true"></i></button>
                                    </form>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <!-- User Cards -->
            <div class="col-lg-9">
                <div class="row d-flex justify-content-center ">
                    <% users.forEach(function (user) { %>
                       <div class="col-sm-6 col-xl-4 my-3">
                           <a id="card" href="#" class="card-link">
                                <div class="card h-100 shadow bg-white rounded mb-5">
                                    <img class="img-fluid explore-users-img p-3" src="<%= user.image %>">
                                    <div class="card-body col-md-10 px-4 py-0 px-md-0 mx-auto text-dark">
                                        <h3 class="card-title text-center"><%= user.name %></h3>
                                        <div class="d-flex justify-content-center">
                                            <span class="text-muted"><%= user.age %> • </span><span class=" text-muted text-center">&nbsp; @<%= user.username %> &nbsp; </span> <span class="text-muted"> • <%= user.city %></span>
                                        </div>                 
                                        <div class="dropdown-divider"></div>
                                        <% if(user.bio.length <= 247) { %>
                                            <span class="card-text p-0"><%= user.bio %></span>
                                        <% } else { %>
                                            <span class="card-text p-0"><%= user.bio.substring(0,247)%>...</span>
                                        <% } %>
                                    </div>
                                </div>
                            </a>
                        </div>
                    <% }); %>
                </div>
            </div>
        </div>
    </div>
<%- include("./partials/footer") %>

